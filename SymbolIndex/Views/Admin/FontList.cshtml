@model IEnumerable<SymbolIndex.Models.Font>

@{
    ViewBag.Title = "Quản lý font";
    Layout = "~/Views/Shared/Admin_Layout.cshtml";
}

<h2>Fonts</h2>

<p>
    @Html.ActionLink("Thêm font", "Create")
</p>

<div class="row">
    <div class="col-lg-12">

        <div class="row">
            <div class="col-lg-12">
                <!-- Breadcrumb-->
                <nav aria-label="breadcrumb" role="navigation" style="margin-top: 20px">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="/Admin/">Bảng điều khiển </a>
                        </li>
                        <li class="breadcrumb-item active" aria-current="page">@ViewBag.Title</li>
                    </ol>
                </nav>
                <!-- End Breadcrumb-->
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading" style="background-color:rgb(1, 85, 180); color:aliceblue">
                <i class="fa fa-file-text fa-fw"></i> Danh sách font
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="table-responsive">
                    @* ---- table head ----*@
                    <table class="table table-striped table-bordered" style="margin-bottom:0">
                        <thead style="margin-right:105px">
                            <tr>
                                <th style="width:5%">
                                    Mã
                                </th>
                                <th style="width:18%">
                                    Tên Font
                                </th>
                                <th style="width:60%">
                                    Đường dẫn
                                </th>
                                <th style="width:17%"></th>
                                <th style="width:15px"></th>
                            </tr>
                        </thead>
                    </table>
                    @* ---- table body ----*@
                    <div style="height:300px;overflow: hidden; overflow-y:scroll;" id="div_table">
                        <table class="table table-striped table-bordered table-hover" id="table_content">
                            <tbody id="list">
                                @foreach (var item in Model)
                            {
                                <tr>
                                    <td style="width:5%">
                                        @Html.DisplayFor(modelItem => item.Id)
                                    </td>
                                    <td style="width:18%">
                                        @Html.DisplayFor(modelItem => item.FontName)
                                    </td>
                                    <td style="width:60%">
                                        @Html.DisplayFor(modelItem => item.FontUrl)
                                    </td>
                                    <td style="width:17%">
                                        @Html.ActionLink("Xem", "ViewFont", new { id = item.Id }) |
                                        @Html.ActionLink("Xoá", "DeleteFont", new { id = item.Id })
                                    </td>
                                </tr>
                        }
                            </tbody>
                        </table>
                    </div>
                    @* bottom line*@



                </div>
                <!-- /.table-responsive -->
            </div>
            <!-- /.panel-body -->
        </div>


    </div>
</div>

<script>

    function UploadImage(callback) {
        // Checking whether FormData is available in browser  

        if (window.FormData !== undefined) {

            var fileUpload = $("#uploadImage").get(0);
            var files = fileUpload.files;

            // Create FormData object  
            var fileData = new FormData();

            // Looping over all files and add it to FormData object  
            for (var i = 0; i < files.length; i++) {
                fileData.append(files[i].name, files[i]);
            }

            // Adding one more key to FormData object  
            fileData.append('username', 'Manas');

            $.ajax({
                url: '/Staff/UploadFiles',
                type: "POST",
                contentType: false, // Not to set any content header  
                processData: false, // Not to process data  
                data: fileData,
                success: function (result) {
                    if (parseInt(result.Type) == 0) {
                        $('#avatarImage').val(result.StringValue);
                        callback();
                    }
                    else {
                        showSnackbar("snackbar", 'Lỗi khi upload hình');
                    }
                },
                error: function (err) {
                    alert("Here" + err.statusText);
                }
            });
        } else {
            alert("FormData is not supported.");
        }
    }
</script>


